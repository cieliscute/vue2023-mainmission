import{_ as g,S as k,c,a as t,F as a,r as m,b as r,t as s,d as h,o as i,p as v,e as y}from"./index-w2EgQUXp.js";const b={data(){return{products:"",temp:"",loading:!0}},methods:{checktoken(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),_="https://vue3-course-api.hexschool.io/v2/api/user/check",p="https://vue3-course-api.hexschool.io/v2/api/weiwei324/admin/products/all";this.$http.post(_,null,{headers:{Authorization:n}}).then(l=>this.$http.get(p,{headers:{Authorization:n}})).then(l=>{this.products=l.data.products,this.loading=!1}).catch(l=>{console.log("err:",l.response.data.message),k.fire({title:"請正確登入再訪問後台頁面",text:"點選下方按鈕回到登入頁面",icon:"error",allowOutsideClick:!1,confirmButtonText:"OK"}).then(()=>{this.$router.push("/login")})})}},created(){},mounted(){this.checktoken()}},d=n=>(v("data-v-30c2cfb5"),n=n(),y(),n),x={key:0,class:"loading vw-100 vh-100 d-flex justify-content-center align-items-center"},w=d(()=>t("div",{class:"loader"},null,-1)),f=[w],S={key:1,class:"container"},B={class:"row py-3"},C={class:"col-md-6"},I=d(()=>t("h2",null,"產品列表",-1)),T={class:"table table-hover mt-4"},N=d(()=>t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"150"},"是否啟用"),t("th",{width:"120"},"查看細節")])],-1)),P={width:"150"},V={width:"120"},z={width:"120"},A={width:"150"},D={key:0,class:"text-success"},F={key:1},O={width:"120"},U=["onClick"],j={key:0,class:"col-md-6"},E=d(()=>t("h2",null,"單一產品細節",-1)),K={class:"card mb-3"},L=["src"],M={class:"card-body"},q={class:"card-title"},G={class:"badge bg-primary ms-2"},H={class:"card-text"},J={class:"card-text"},Q={class:"d-flex"},R={class:"card-text me-2"},W={class:"card-text text-secondary"},X=["src"],Y=d(()=>t("p",{class:"text-secondary"},"請選擇一個商品查看",-1));function Z(n,_,p,l,e,$){return e.loading?(i(),c("div",x,f)):(i(),c("div",S,[t("div",B,[t("div",C,[I,t("div",null,[t("table",T,[N,t("tbody",null,[(i(!0),c(a,null,m(e.products,o=>(i(),c("tr",{key:o.id},[t("td",P,s(o.title),1),t("td",V,s(o.origin_price),1),t("td",z,s(o.price),1),t("td",A,[o.is_enabled?(i(),c("span",D,"啟用")):o.is_enabled?h("",!0):(i(),c("span",F,"未啟用"))]),t("td",O,[t("button",{type:"button",class:"btn btn-primary",onClick:u=>e.temp=o}," 查看細節 ",8,U)])]))),128))])]),t("p",null,[r(" 目前有"),t("span",null,s(e.products.length),1),r(" 項產品 ")])])]),e.loading?h("",!0):(i(),c("div",j,[E,e.temp?(i(),c(a,{key:0},[t("div",K,[t("img",{src:e.temp.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,L),t("div",M,[t("h5",q,[r(s(e.temp.title)+" ",1),t("span",G,s(e.temp.category),1)]),t("p",H,"商品描述："+s(e.temp.description),1),t("p",J,"商品內容："+s(e.temp.content),1),t("div",Q,[t("p",R,s(e.temp.price),1),t("p",W,[t("del",null,s(e.temp.origin_price),1)]),r(" 元 / "+s(e.temp.unit),1)])])]),(i(!0),c(a,null,m(e.temp.imagesUrl,(o,u)=>(i(),c("img",{key:o+u,src:o,alt:"",class:"img-fluid mb-2"},null,8,X))),128))],64)):h("",!0),Y]))])]))}const et=g(b,[["render",Z],["__scopeId","data-v-30c2cfb5"]]);export{et as default};
