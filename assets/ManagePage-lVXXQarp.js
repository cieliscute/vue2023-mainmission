import{_ as k,S as m,c,a as t,F as a,r as g,b as d,t as s,d as h,o as i,p as b,e as v}from"./index-kg48-sNw.js";const y={data(){return{products:"",temp:"",loading:!0}},methods:{checktoken(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n||m.fire({title:"登入後才可以訪問後台唷！",icon:"error",confirmButtonText:"OK"}).then(()=>{this.$router.push("/login")});const _="https://vue3-course-api.hexschool.io/v2/api/user/check",p="https://vue3-course-api.hexschool.io/v2/api/weiwei324/admin/products/all";this.$http.post(_,null,{headers:{Authorization:n}}).then(l=>this.$http.get(p,{headers:{Authorization:n}})).then(l=>{this.products=l.data.products,this.loading=!1}).catch(l=>{console.log("err:",l.response.data.message),m.fire({title:"請正確登入再訪問後台頁面",text:"點選下方按鈕回到登入頁面",icon:"error",allowOutsideClick:!1,confirmButtonText:"OK"}).then(()=>{this.$router.push("/login")})})}},created(){},mounted(){this.checktoken()}},r=n=>(b("data-v-530bcfeb"),n=n(),v(),n),f={key:0,class:"loading vw-100 vh-100 d-flex justify-content-center align-items-center"},x=r(()=>t("div",{class:"loader"},null,-1)),w=[x],S={key:1,class:"container"},B={class:"row py-3"},T={class:"col-md-6"},C=r(()=>t("h2",null,"產品列表",-1)),I={class:"table table-hover mt-4"},N=r(()=>t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"150"},"是否啟用"),t("th",{width:"120"},"查看細節")])],-1)),O={width:"150"},P={width:"120"},V={width:"120"},z={width:"150"},A={key:0,class:"text-success"},D={key:1},F={width:"120"},K=["onClick"],U={key:0,class:"col-md-6"},j=r(()=>t("h2",null,"單一產品細節",-1)),E={class:"card mb-3"},L=["src"],M={class:"card-body"},q={class:"card-title"},G={class:"badge bg-primary ms-2"},H={class:"card-text"},J={class:"card-text"},Q={class:"d-flex"},R={class:"card-text me-2"},W={class:"card-text text-secondary"},X=["src"],Y=r(()=>t("p",{class:"text-secondary"},"請選擇一個商品查看",-1));function Z(n,_,p,l,e,$){return e.loading?(i(),c("div",f,w)):(i(),c("div",S,[t("div",B,[t("div",T,[C,t("div",null,[t("table",I,[N,t("tbody",null,[(i(!0),c(a,null,g(e.products,o=>(i(),c("tr",{key:o.id},[t("td",O,s(o.title),1),t("td",P,s(o.origin_price),1),t("td",V,s(o.price),1),t("td",z,[o.is_enabled?(i(),c("span",A,"啟用")):o.is_enabled?h("",!0):(i(),c("span",D,"未啟用"))]),t("td",F,[t("button",{type:"button",class:"btn btn-primary",onClick:u=>e.temp=o}," 查看細節 ",8,K)])]))),128))])]),t("p",null,[d(" 目前有"),t("span",null,s(e.products.length),1),d(" 項產品 ")])])]),e.loading?h("",!0):(i(),c("div",U,[j,e.temp?(i(),c(a,{key:0},[t("div",E,[t("img",{src:e.temp.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,L),t("div",M,[t("h5",q,[d(s(e.temp.title)+" ",1),t("span",G,s(e.temp.category),1)]),t("p",H,"商品描述："+s(e.temp.description),1),t("p",J,"商品內容："+s(e.temp.content),1),t("div",Q,[t("p",R,s(e.temp.price),1),t("p",W,[t("del",null,s(e.temp.origin_price),1)]),d(" 元 / "+s(e.temp.unit),1)])])]),(i(!0),c(a,null,g(e.temp.imagesUrl,(o,u)=>(i(),c("img",{key:o+u,src:o,alt:"",class:"img-fluid mb-2"},null,8,X))),128))],64)):h("",!0),Y]))])]))}const et=k(y,[["render",Z],["__scopeId","data-v-530bcfeb"]]);export{et as default};
